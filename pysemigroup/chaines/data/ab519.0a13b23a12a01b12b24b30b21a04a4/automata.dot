digraph {
 ranksep=0.5;
 d2tdocpreamble = "\usetikzlibrary{automata}";
 d2tfigpreamble = "\tikzstyle{every state}= [ draw=blue!50,very thick,fill=blue!20]  \tikzstyle{auto}= [fill=white]";
 node [style="state"];
 edge [lblstyle="auto",topath="bend right", len=4  ]
  "0" [label="0",];
  "1" [label="1",style = "state, initial"];
  "2" [label="2",];
  "3" [label="3",style = "state, accepting"];
  "4" [label="4",];
  "0" -> "1" [label="a"];
  "0" -> "2" [label="b"];
  "1" -> "0" [label="a"];
  "1" -> "1" [label="b",topath="loop above"];
  "2" -> "0" [label="a"];
  "2" -> "2" [label="b",topath="loop above"];
  "3" -> "1" [label="a"];
  "3" -> "2" [label="b"];
  "4" -> "3" [label="b"];
  "4" -> "4" [label="a",topath="loop above"];
}